# 18장. 경계 해부학
#### 런타임에 경계를 횡단한다: 경계 한쪽에 있는 기능이 반대편 기능을 호출하여 데이터를 전달하는 일
---

- 소스 코드가 변경되면 의존하는 코드들도 변경 및 컴파일이 필요할 수 있음

-\> 적절한 위치에서 경계를 횡단 해야 함 (By 소스 코드 의존성 관리)  

경계는 이러한 변경의 전파를 막고 관리하는 수단으로 존재함

### 두려운 단일체
- 배포 관점에서 경계가 들어나지 않음 (파일 하나만 배포하므로)
- 동적 다형성에 의존해서 내부 의존성 관리

저수준 클라이언트와 고수준 서비스
![img](images/chapter%2018-1.png)

고수준 클라이언트와 저수준 서비스
![img](images/chapter%2018-2.png)

> 위처럼 규칙적인 방식으로 구조를 분리하면 모노리틱 구조라도 개발, 테스트, 배포에 큰 도움이 된다

### 배포형 컴포넌트
- 아키텍처의 경계가 물리적으로 드러날 수 있다
- 배포 과정에서만 차이가 날 뿐, 배포 수준의 컴포넌트는 단일체와 동일하다
- 컴포넌트를 분리하거나 의존성을 관리하는 전략도 단일체와 동일하다
- 당연히 경계를 가로지르는 통신은 함수 호출이므로 값싸다

### 로컬 프로세스
- 아키텍처의 경계가 강한 물리적 형태를 띈다
- 소스코드 의존성인 화살표는 항상 고수준 컴포넌트를 향한다
- 경계를 지나는 통신은 비싼 작업이므로, 통신이 너무 빈번하게 이뤄지면 안된다

### 서비스
- 아키텍처의 경계가 가장 강한 물리적 형태를 띈다
- 모든 통신은 네트워크를 통해 이뤄지므로 함수 호출에 비해 느리다
- 고수준에서 지연에 따른 문제를 처리해야 한다
- 저수준 서비스는 고수준 서비스에 플러그인 되어야 한다

