# 11장 DIP : 의존성 역전 원칙

안정된 소프트웨어 아키텍처란 변동성이 큰 구현체에 의존하는 일은 지양하고,

안정된 추상 인터페이스를 선호하는 아키텍처라는 뜻이다.

- **변동성이 큰 구체 클래스를 참조하지 말라.** 대신 추상 인터페이스를 참조하라. 또한 이 규칙은 객체 생성 방식을 강하게 제약하며, 일반적으로 추상 팩토리 Abstract Factory 를 사용하도록 강제한다.
- **변동성이 큰 구체 클래스로부터 파생하지 말라.** 정적 타입 언어에서 상속은 소스 코드에 존재하는 모든 관계 중에서 가장 강력한 동시에 뻣뻣해서 변경하기 어렵다. 따라서 상속은 아주 신중하게 사용해야 한다.
- **구체 함수를 오버라이드 하지 말라.** 대체로 구체 함수는 소스 코드 의존성을 필요로 한다. 따라서 구체 함수를 오버라이드하면 이러한 의존성을 제거할 수 없게 되며, 실제로는 그 의존성을 상속하게 된다. 이러한 의존성을 제거하려면, 차라리 추상 함수를 선언하고 구현체들에서 각자의 용도에 맞게 구현해야 한다.
- **구체적이며 변동성이 크다면 절대로 그 이름을 언급하지 말라.**

![image](https://github.com/KonCC/clean-architecture/assets/102205852/a88641ad-9b90-450f-be64-8bae30a228af)


곡선은 시스템을 두가지 컴포넌트로 **분리**한다.

하나는 추상 컴포넌트이고, 하나는 구체 컴포넌트이다.

## 구체 컴포넌트

위 그림의 구체 컴포넌트에는 구체적인 의존성이 하나 있다. 이는 DIP를 위배한다.

하지만, 이러한 클래스를 적은 수의 구체 컴포넌트로 모을 수 있다.

보통은 이러한 컴포넌트를 하나 이상 포함하고 Main 이라고 부른다.
